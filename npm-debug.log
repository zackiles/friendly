0 info it worked if it ends with ok
1 verbose cli [ 'node', '/home/zackiles/.nvm/v0.10.32/bin/npm', 'publish' ]
2 info using npm@2.1.5
3 info using node@v0.10.32
4 verbose publish [ '.' ]
5 silly cache add args [ '.', null ]
6 verbose cache add spec .
7 silly cache add parsed spec { raw: '.',
7 silly cache add   scope: null,
7 silly cache add   name: null,
7 silly cache add   rawSpec: '.',
7 silly cache add   spec: '/home/zackiles/workspace/friendly',
7 silly cache add   type: 'directory' }
8 verbose tar pack [ '/home/zackiles/.npm/friendly/0.0.5/package.tgz',
8 verbose tar pack   '/home/zackiles/workspace/friendly' ]
9 verbose tarball /home/zackiles/.npm/friendly/0.0.5/package.tgz
10 verbose folder /home/zackiles/workspace/friendly
11 info prepublish friendly@0.0.5
12 verbose addLocalTarball adding from inside cache /home/zackiles/.npm/friendly/0.0.5/package.tgz
13 silly cache afterAdd friendly@0.0.5
14 verbose afterAdd /home/zackiles/.npm/friendly/0.0.5/package/package.json not in flight; writing
15 verbose afterAdd /home/zackiles/.npm/friendly/0.0.5/package/package.json written
16 silly publish { name: 'friendly',
16 silly publish   version: '0.0.5',
16 silly publish   description: 'Make relationships, link data, and build streams with plain old javascript objects. A no-frills ORM without database drivers.',
16 silly publish   main: 'index.js',
16 silly publish   scripts: { test: 'mocha' },
16 silly publish   repository: { type: 'git', url: 'https://github.com/zackiles/friendly' },
16 silly publish   keywords: [ 'orm', 'object', 'releationship', 'mapping', 'streams' ],
16 silly publish   author: { name: 'Zachary Iles', email: 'zack.iles@gmail.com' },
16 silly publish   license: 'MIT',
16 silly publish   bugs: { url: 'https://github.com/zackiles/friendly/issues' },
16 silly publish   homepage: 'https://github.com/zackiles/friendly',
16 silly publish   dependencies:
16 silly publish    { lodash: '^3.6.0',
16 silly publish      mocha: '^2.2.1',
16 silly publish      q: '^1.2.0',
16 silly publish      should: '^5.2.0' },
16 silly publish   readme: '# Friendly ORM\n[![npm version](https://badge.fury.io/js/friendly.svg)](http://badge.fury.io/js/friendly)\n\nMake relationships, link data, and build streams with plain old javascript objects. A no-frills ORM without database drivers.\n\n## Installation\n\nYou know the drill.\n\n```sh\n$ npm install friendly\n```\n\n## Use Case\n\n- You have documents with one-to-many or one-to-one relationships coming from different databases or sources and would like to quickly compose complete objects.\n- You\'d like to keep your code clean and have seperation of concerns between your services.\n- You don\'t have the ability to do database joins or link documents.\n- You want to avoid using bloated database specific ORM\'s.\n- You want to add the ability to expand and collapse resources on your API or services.\n\n## Overview\n\nFor full documentation see the [API DCOS](https://github.com/zackiles/friendly/blob/master/API-DOCS.md).\n\nTwo primary methods, EXPAND and COLLAPSE. Both methods work on a single parent object or an array of parent objects with nested children. A child property can be a foreign key, an object with a foreign key, or an array of either.\n\n- Expand => Like the mongoose \'populate\' method. Will resolve nested children to their sources and map in a full or partial object.\n- Collapse => Reduces a parent objects children into a minimal representation. Default is just the foreign key, but you can configure it to add any other properties you\'d like.\n\n### What does it look like?\n\nIt looks as easy as it sounds. Convert something like this.\n\n``` js\nBook: {\n  id: 120,\n  name: \'Code Complete 2\',\n  author: 19237\n}\n```\n\nInto this...\n``` js\nBook: {\n  id: 120,\n  name: \'Code Complete 2\',\n  author: {\n    id: 19237,\n    name: \'Steve McConnel\'\n  }\n}\n```\n\n### Examples?\n\nFirst configure your models for later use. Configuration takes a name, provider, children, and optional collapsables.\n\n- name => The name of your model. This is also the property name of the object when nested as a child object in a parent.\n- key => Is the foreign key, or property name used to resolve a unique object. Any instances of this object a s achild or parent must contain this property.\n- children (optional) => Is an array or a single name of a model.\n- provider => Is a function which is passed the foreign key, which returns a promise that resolves the full child object.\n- collapsables (optional) => An array of property names to include from this object when this object is included as a child and the parent object calls the \'collapse\' method. By default the property specified by \'key\' is always included\', and all other properties are removed.\n\nSo given a Book model that has an id property with a nested author child, our configure method call would look like this:\n\n``` js\nvar friendly = require(\'friendly\');\n\nfriendly.createModel({\n  name: \'book\',\n  key: \'id\',\n  collapsables: \'title\', // or [\'title\', \'publishedDate\']\n  children: \'author\', // or [\'author\', \'category\']\n  provider: function(id){\n    // return a promise that finds the book\n    return findBooksByIdPromise(id);\n  }\n});\n```\n\nPutting it all together and expanding/collapsing our book with authors would look like this:\n\n``` js\nvar friendly = require(\'friendly\');\n\nfriendly.createModel({\n  name: \'book\',\n  key: \'id\',\n  children: \'author\',\n  provider: function(id){\n    // return a promise that finds the book\n    return findAuthorsByIdPromise(id);\n  }\n});\n\nfriendly.createModel({\n  name: \'author\',\n  key: \'id\',\n  provider: function(id){\n    // return a promise that finds the author\n    return findBooksByIdPromise(id);\n  }\n});\n\nvar exampleAuthor = {\n  id: \'19237\',\n  name: \'Steve McConnel\'\n};\n\nvar exampleBook = {\n  id: \'203\',\n  name: \'Code Complete 2\',\n  author: \'19237\'\n};\n\n\nfriendly.expand(\'book\', exampleBook).then(function(expandedBook){\n  console.log(expandedBook);\n  /** prints\n    {\n      id: \'203\',\n      name: \'Code Complete 2\',\n      author: {\n        id: \'19237\',\n        name: \'Steve McConnel\'\n      }\n    }\n  /*\n  var collapsedBook = friendly.expand(\'book\', expandedBook);\n  console.log(collapsedBook);\n  /** prints\n    {\n      id: \'203\',\n      name: \'Code Complete 2\',\n      author: \'19237\'\n    }\n  /*\n});\n```\n\n### How many ways can I represent a child object?\n\n4 ways. Pay attention to how the author object changes in these examples. These are assuming you\'ve created both a book and author model, and the author models key is set to \'id\'.\n\n``` js\n\n// #1 - author as a value\nvar book = {\n  id: \'203\',\n  name: \'Code Complete 2\',\n  author: \'19237\'\n};\n// #2 - author as an object\nvar book = {\n  id: \'203\',\n  name: \'Code Complete 2\',\n  author: {\n    id: \'19237\'\n  }\n};\n// #3 - multiple authors as an array\nvar book = {\n  id: \'203\',\n  name: \'Code Complete 2\',\n  author: [\'19237\', \'2462\']\n};\n// #4 - multiple authors as an object array\nvar book = {\n  id: \'203\',\n  name: \'Code Complete 2\',\n  author: [\n    { id: \'19237\' },\n    { id: \'2462\' },\n  ]\n};\n\n```\n\n### Gotcha\'s\n\n- If at any time a child object can\'t be resolved during the expand method, it will just be skipped without warnings or errors.\n- When passing an array of parent objects to expand, the first time a child is resolved it is cached incase another object in the array also uses the same child. The cache only lasts per call to expand, but this may provide unintended effects if a document changes during the call to expand 99% of the time this won\'t be an issue at all.\n- There is no deep recursion to child objects. That is, if the child object also contains it\'s own children then will not be resolved. To accomplish this, you can manually add an expand call to your child\'s provider.\n- Friendly is currently global and createModel can only be called once per model name per application instance.\n- Collapsing will always transform the child into a single object with the foreign key property, and any optional collapsables you\'ve set.\n',
16 silly publish   readmeFilename: 'README.md',
16 silly publish   gitHead: 'e703438fead87e6dc35bba59e969bc82ec3ab151',
16 silly publish   _id: 'friendly@0.0.5',
16 silly publish   _shasum: 'c6fcd62ad8cc3a8c70d369d81ed9f51722ec1cb0',
16 silly publish   _from: '.' }
17 verbose mapToRegistry name friendly
18 verbose mapToRegistry uri https://registry.npmjs.org/friendly
19 verbose publish registryBase https://registry.npmjs.org/
20 verbose request on initialization, where is /friendly
21 verbose request after pass 1, where is /friendly
22 verbose request url raw /friendly
23 verbose request resolving registry [ 'https://registry.npmjs.org/', './friendly' ]
24 verbose request after pass 2, where is https://registry.npmjs.org/friendly
25 verbose request sending authorization for write operation
26 info attempt registry request try #1 at 18:23:22
27 verbose request id ad496d9effce8729
28 http request PUT https://registry.npmjs.org/friendly
29 http 409 https://registry.npmjs.org/friendly
30 verbose request on initialization, where is /friendly
31 verbose request after pass 1, where is /friendly?write=true
32 verbose request url raw /friendly?write=true
33 verbose request resolving registry [ 'https://registry.npmjs.org/', './friendly?write=true' ]
34 verbose request after pass 2, where is https://registry.npmjs.org/friendly?write=true
35 verbose request no auth needed
36 info attempt registry request try #1 at 18:23:28
37 http request GET https://registry.npmjs.org/friendly?write=true
38 http 200 https://registry.npmjs.org/friendly?write=true
39 verbose stack Error: cannot modify pre-existing version
39 verbose stack     at conflictError (/home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/npm-registry-client/lib/publish.js:155:11)
39 verbose stack     at RegClient.putNext (/home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/npm-registry-client/lib/publish.js:123:15)
39 verbose stack     at RegClient.<anonymous> (/home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/npm-registry-client/lib/publish.js:105:15)
39 verbose stack     at f (/home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/once/once.js:17:25)
39 verbose stack     at /home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:106:16
39 verbose stack     at f (/home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/once/once.js:17:25)
39 verbose stack     at RegClient.<anonymous> (/home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:276:12)
39 verbose stack     at Request._callback (/home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:197:65)
39 verbose stack     at Request.self.callback (/home/zackiles/.nvm/v0.10.32/lib/node_modules/npm/node_modules/request/request.js:199:22)
39 verbose stack     at Request.emit (events.js:98:17)
40 verbose pkgid friendly
41 verbose cwd /home/zackiles/workspace/friendly
42 error Linux 3.12-1-amd64
43 error argv "node" "/home/zackiles/.nvm/v0.10.32/bin/npm" "publish"
44 error node v0.10.32
45 error npm  v2.1.5
46 error code EPUBLISHCONFLICT
47 error publish fail Cannot publish over existing version.
47 error publish fail Update the 'version' field in package.json and try again.
47 error publish fail
47 error publish fail To automatically increment version numbers, see:
47 error publish fail     npm help version
48 verbose exit [ 1, true ]
